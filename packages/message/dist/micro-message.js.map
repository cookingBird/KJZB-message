{"version":3,"file":"micro-message.js","mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;AC3DA;;;;;;;;;;;ACAa;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCbA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA6B;AAC7B;AACA;AACA;AACA;AACA;AACO,SAASA,UAAUA,CAAEC,EAAE,EAAE;EAC9BC,OAAO,CAACC,GAAG,CAAC,0CAA0C,CAAC;EACvDC,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAEJ,EAAE,CAAC;EACvC,OAAO;IAAA,OAAMG,MAAM,CAACE,mBAAmB,CAAC,UAAU,EAAEL,EAAE,CAAC;EAAA;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASM,MAAMA,CAAEN,EAAE,EAAE;EAC1BG,MAAM,CAACC,gBAAgB,CAAC,MAAM,EAAEJ,EAAE,CAAC;EACnC,OAAO;IAAA,OAAMG,MAAM,CAACE,mBAAmB,CAAC,MAAM,EAAEL,EAAE,CAAC;EAAA;AACrD;;AAEA;AACA;AACA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","sources":["webpack://@gislife/micro-message/webpack/universalModuleDefinition","webpack://@gislife/micro-message/./src/core/Channel.type.js","webpack://@gislife/micro-message/./src/microApp.vue?8cf7","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://@gislife/micro-message/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://@gislife/micro-message/webpack/bootstrap","webpack://@gislife/micro-message/webpack/runtime/compat get default export","webpack://@gislife/micro-message/webpack/runtime/define property getters","webpack://@gislife/micro-message/webpack/runtime/hasOwnProperty shorthand","webpack://@gislife/micro-message/webpack/runtime/make namespace object","webpack://@gislife/micro-message/webpack/runtime/nonce","webpack://@gislife/micro-message/./src/util/onEvent.js","webpack://@gislife/micro-message/./src/util/requestDom.js","webpack://@gislife/micro-message/./src/util/volume.js","webpack://@gislife/micro-message/./src/util/getParams.js","webpack://@gislife/micro-message/./src/util/index.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/native.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/rng.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/regex.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/validate.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://@gislife/micro-message/./node_modules/uuid/dist/esm-browser/v4.js","webpack://@gislife/micro-message/./src/core/Message.js","webpack://@gislife/micro-message/./src/core/Channel.default.js","webpack://@gislife/micro-message/./src/core/Channel.js","webpack://@gislife/micro-message/./src/ApplicationChannel.js","webpack://@gislife/micro-message/./src/microApp.vue","webpack://@gislife/micro-message/./src/microApp.vue?d364","webpack://@gislife/micro-message/src/microApp.vue","webpack://@gislife/micro-message/./src/microApp.vue?fb87","webpack://@gislife/micro-message/./src/microApp.vue?3669","webpack://@gislife/micro-message/./src/microApp.vue?6d1e","webpack://@gislife/micro-message/./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack://@gislife/micro-message/./src/microApp.vue?d935","webpack://@gislife/micro-message/./src/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"micro-message\"] = factory();\n\telse\n\t\troot[\"micro-message\"] = factory();\n})(self, () => {\nreturn ","/**\r\n * @description 消息类型\r\n * @typedef PostMessageTypeInner\r\n * @type { 'register'| 'unregister'  }\r\n * @description 业务事件类型\r\n * @typedef PostMessageTypeWork\r\n * @type { 'state' | 'config' |'callback'|'emit'| '*' }\r\n *\r\n * @typedef { PostMessageTypeInner | PostMessageTypeWork } PostMessageType\r\n */\r\n\r\n/**\r\n * @description 消息发送对象\r\n * @typedef  { 'main' | 'parent' | 'global' |'*'} IPostTarget\r\n */\r\n\r\n/**\r\n * @description message消息格式\r\n * @template T\r\n * @typedef IPostMessageSyntax\r\n * @type {object}\r\n * @property {boolean} [pop=true] 是否冒泡\r\n * @property { string | 'main' } [target='main'] 发送消息的目标\r\n * @property { string } sourceCode 冒泡消息来源\r\n * @property { PostMessageType } type 消息类型\r\n * @property { T } data 发送的消息\r\n */\r\n\r\n/**\r\n * @description generic function\r\n * @template P,T\r\n * @callback IGenericFunction\r\n * @param {P} response\r\n * @returns {T}\r\n */\r\n\r\n/**\r\n * @typedef {object} ChannelOptsRest\r\n * @property { string } [localStorageName='globalConfig'] 本地存储namespace\r\n * @property { string } [appCode] 子应用的CODE\r\n *\r\n * @typedef {ChannelOptsRest & MessageOpts} ChannelOpts\r\n */\r\n\r\n/**\r\n * @description 微应用CODE\r\n * @typedef {string} microAppCode\r\n * @description 微应用CONTEXT\r\n * @typedef { HTMLIFrameElement } microAppContext\r\n */\r\n\r\n/**\r\n * @description 用户发送的的数据\r\n * @typedef {*} IUserData\r\n */\r\n\r\n/**\r\n * @template T\r\n * @typedef {IGenericFunction<IPostMessageSyntax<T>,void>} onCallback\r\n */\r\n","// extracted by mini-css-extract-plugin","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import '../core/Channel.type'\r\n/**\r\n * @description 监听pagehide事件\r\n * @param {Function} cb 回调函数\r\n * @returns {Function} 取消回调的函数\r\n */\r\nexport function onPageHide (cb) {\r\n  console.log('page hide-------------------------------')\r\n  window.addEventListener('pagehide', cb)\r\n  return () => window.removeEventListener('pagehide', cb)\r\n}\r\n\r\n/**\r\n * @description 监听load事件\r\n * @param {Function} cb 回调函数\r\n * @returns {Function} 取消回调的函数\r\n */\r\nexport function onLoad (cb) {\r\n  window.addEventListener('load', cb)\r\n  return () => window.removeEventListener('load', cb)\r\n}\r\n\r\n/**\r\n * @description 监听message事件\r\n * @param {IGenericFunction<IMessageEventResponse,*>} cb 回调函数\r\n * @returns {Function} 取消回调的函数\r\n */\r\nexport function onMessage (cb) {\r\n  window.addEventListener('message', cb)\r\n  return () => window.removeEventListener('message', cb)\r\n}\r\n","/**\r\n * @callback judgeCallback\r\n * @param {?HTMLIFrameElement}\r\n * @returns {boolean}\r\n */\r\n\r\n/**\r\n *\r\n * @param {string} id 目标元素id\r\n * @param {?judgeCallback} judgeCb 确定元素获取成功的judge函数\r\n * @param {'requestAnimationFrame' | 'setTimeout'} [type='requestAnimationFrame'] 轮询函数类型\r\n * @returns {promise<HTMLIFrameElement | null>}\r\n */\r\nexport function requestDom (\r\n  id,\r\n  judgeCb = el => Boolean(el),\r\n  type = 'requestAnimationFrame'\r\n) {\r\n  function getDom (id, callback, type) {\r\n    if (document && window && window.requestAnimationFrame) {\r\n      const el = document.getElementById(id)\r\n\r\n      if (!judgeCb(el)) {\r\n        if (type === 'requestAnimationFrame') {\r\n          requestAnimationFrame(() => {\r\n            getDom(id, callback, type)\r\n          })\r\n        }\r\n        if (type === 'setTimeout') {\r\n          setTimeout(() => {\r\n            getDom(id, callback, type)\r\n          })\r\n        }\r\n      } else {\r\n        return callback(el)\r\n      }\r\n    } else {\r\n      throw Error(\"browser don't support\")\r\n    }\r\n  }\r\n\r\n  let resolver\r\n  return new Promise(resolve => {\r\n    resolver = resolve\r\n    getDom(\r\n      id,\r\n      el => {\r\n        setTimeout(() => {\r\n          resolver(el)\r\n        })\r\n      },\r\n      type\r\n    )\r\n  })\r\n}\r\n","class ArrayVolume {\r\n  constructor (length) {\r\n    this.queue = length === void 0 ? [] : new Array(length)\r\n  }\r\n  /**\r\n   * 加入一个回调函数到执行队列\r\n   * @param { Function } callback 回调函数\r\n   * @param { number } priority 优先级\r\n   * @returns { Function } remove函数 从队列中移除回调\r\n   */\r\n  push (callback, priority = 0) {\r\n    if (priority === 0) {\r\n      this.queue.push(callback)\r\n    }\r\n    if (priority === 1) {\r\n      this.queue.unshift(callback)\r\n    }\r\n    return () =>\r\n      this.queue.splice(\r\n        this.queue.findIndex(fn => fn === callback),\r\n        1\r\n      )\r\n  }\r\n}\r\n\r\n/**\r\n * @template T\r\n */\r\nexport class ChainRunner extends ArrayVolume {\r\n  constructor () {\r\n    super()\r\n  }\r\n  /**\r\n   * @description 加入一个回调函数到执行队列\r\n   * @param { IGenericFunction<T,T> } callback 回调函数\r\n   * @param { number } [priority=1] 优先级\r\n   * @returns { cancelCallback } remove函数 从队列中移除回调\r\n   */\r\n  push (callback, priority = 1) {\r\n    return super.push(callback, priority)\r\n  }\r\n  /**\r\n   * @description 加入一个回调函数到执行队列\r\n   * @param { IGenericFunction<T,T> } callback 回调函数\r\n   * @returns { cancelCallback } remove函数 从队列中移除回调\r\n   */\r\n  use (callback) {\r\n    return this.push(callback)\r\n  }\r\n  /**\r\n   * @description 链式执行回调队列中的回调函数\r\n   * @param  {*} result 执行参数\r\n   * @returns {T}\r\n   */\r\n  run (result) {\r\n    let res = result\r\n    for (const fn of this.queue) {\r\n      res = fn(res)\r\n    }\r\n    return res\r\n  }\r\n}\r\n","/**\r\n * @description 获取URL search参数\r\n * @param {Location} location\r\n * @returns {object}\r\n */\r\nexport function getParams (location) {\r\n  const search = location.search.slice(1)\r\n  const result = {}\r\n  search\r\n    .split('&')\r\n    .map(p => p.split('='))\r\n    .forEach(item => {\r\n      result[item[0]] = item[1]\r\n    })\r\n  return result\r\n}\r\n","export * from './onEvent'\r\nexport * from './requestDom'\r\nexport * from './volume'\r\nexport * from './getParams'\r\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { v4 as uuidv4 } from 'uuid'\r\nimport { ChainRunner, onMessage } from '../util'\r\nimport { cloneDeep } from 'lodash-es'\r\n\r\n/**\r\n * @class\r\n */\r\nexport class Message {\r\n  /**\r\n   * @description 初始化一个Channel\r\n   * @constructor\r\n   * @param {Window | WindowContent} targetWindow\r\n   * @param {MessageOpts} options Channel初始化options\r\n   */\r\n  constructor (targetWindow, options = {}) {\r\n    this.appCode = ''\r\n    this.targetOrigin = options.targetOrigin || '*'\r\n    this.timeout = options.timeout || 3 * 1000\r\n    this.tag = options.namespace || 'gislife'\r\n    /**@description 默认回复响应的拦截器 */\r\n    /**@type ChainRunner<IMessage<IPostMessageSyntax<*>>> */\r\n    this.defaultResponseInterceptor = new ChainRunner()\r\n    /**@description 请求拦截器 */\r\n    /**@type ChainRunner<IPostMessageSyntax<*>> */\r\n    this.requestInterceptor = new ChainRunner()\r\n    this._cancel = this._initResponse()\r\n  }\r\n  /**\r\n   * @description 初始化消息默认回复事件\r\n   * @returns {cancelCallback} 取消默认回复事件\r\n   */\r\n  _initResponse () {\r\n    return onMessage(e => {\r\n      if (e.data?.response === false) {\r\n        console.log(\r\n          'this.defaultResponseInterceptor.run(e.data)',\r\n          this.defaultResponseInterceptor.run(e.data)\r\n        )\r\n        e.source.postMessage(\r\n          { ...this.defaultResponseInterceptor.run(e.data), response: true },\r\n          e.origin\r\n        )\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * todo 包裹原生消息发生函数，保证消息唯一性,局部性;\r\n   * @description 发送消息\r\n   * @param {IPostMessageSyntax<T>} msg\r\n   * @param {HTMLIFrameElement.contentWindow} target\r\n   * @returns { Promise<IMessage<IPostMessageSyntax<T>>&{response:true}> }\r\n   */\r\n  _postMessage (msg, target) {\r\n    const timeout = msg.timeout || this.timeout\r\n    let isSendOK = false\r\n    if (target) {\r\n      let resolvor, rejector\r\n      const id = uuidv4()\r\n      const cancel = onMessage(res => {\r\n        const { data } = res\r\n        if (data?.id === id && data.belong === this.tag) {\r\n          isSendOK = true\r\n          resolvor(data.data)\r\n          cancel()\r\n        }\r\n      })\r\n      return new Promise((resolve, reject) => {\r\n        resolvor = resolve\r\n        rejector = reject\r\n        /** @type IPostMessageSyntax<*> */\r\n        const res = this.requestInterceptor.run(msg)\r\n        console.log('before send res-----------------', res)\r\n        const data = JSON.stringify(res)\r\n        console.log('before send-----------------', data)\r\n        debugger\r\n        target.postMessage(\r\n          {\r\n            id,\r\n            data,\r\n            belong: this.tag,\r\n            response: false\r\n          },\r\n          '*'\r\n        )\r\n        setTimeout(() => {\r\n          if (!isSendOK) {\r\n            rejector('-----postMessage timeout,target maybe not ready')\r\n            cancel()\r\n          }\r\n        }, timeout)\r\n      })\r\n    } else {\r\n      return Promise.reject('missing target')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * todo 发送消息\r\n   * @description 发送消息\r\n   * @param {Window} target\r\n   * @param {IPostMessageSyntax<T>} msg 消息体\r\n   * @returns { Promise<T> } 确认消息发送成功的回调\r\n   */\r\n  send (target, msg) {\r\n    return this._postMessage(msg, target).then(\r\n      res => {\r\n        return res\r\n      },\r\n      err => {\r\n        return Promise.reject(err)\r\n      }\r\n    )\r\n  }\r\n  /**\r\n   * @description 监听消息 只监听接受消息\r\n   * @param {IGenericFunction<IPostMessageSyntax<*>,void>} cb 接收到消息的回调函数\r\n   * @returns {cancelCallback} 取消监听事件的函数\r\n   */\r\n  on (cb) {\r\n    return onMessage(event => {\r\n      if (\r\n        typeof event.data !== 'string' &&\r\n        event.data.type !== 'webpackOk' &&\r\n        !event.data['devtoolsEnabled'] &&\r\n        typeof event.data !== 'object'\r\n      ) {\r\n        console.log('before parse---------------', event.data)\r\n        event.data.data = event.data.data ? JSON.parse(event.data) : {}\r\n        if (\r\n          event?.data?.belong === this.tag &&\r\n          event.data?.response === false\r\n        ) {\r\n          console.log(\r\n            'after response---------------------',\r\n            event.data,\r\n            this.appCode\r\n          )\r\n          cb(event.data.data)\r\n        }\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * 销毁连接器\r\n   */\r\n  destory () {\r\n    this._cancel()\r\n  }\r\n}\r\n","/**@description 支持的事件类型的集合 */\r\nexport const SUPPORT_MESSAGE_TYPE = [\r\n  'state',\r\n  'config',\r\n  'callback',\r\n  'emit',\r\n  'register',\r\n  'unregister'\r\n]\r\n\r\nexport const DEFAULT_GLOBAL_CONFIG = 'URL_CONFIG'\r\n","import { Message } from './Message'\r\nimport { onPageHide } from '../util'\r\nimport { DEFAULT_GLOBAL_CONFIG } from './Channel.default'\r\n\r\n/**@type {Map<microAppCode,microAppContext>} */\r\nconst microAppMap = new Map()\r\n/**@type {WeakMap<microAppContext,microAppCode>} */\r\nconst microAppElMap = new WeakMap()\r\n/**\r\n * @typedef {Map<microAppContext,object>} IStateMap\r\n * @description 组件状态Map\r\n * @type {IStateMap}\r\n */\r\nconst stateMap = new Map()\r\n\r\n/**\r\n * @class Channel\r\n */\r\nexport class Channel extends Message {\r\n  /**\r\n   * @description 新建一个目标连接频道\r\n   * @constructor\r\n   * @param { Window | windowContent} target 目标上下文\r\n   * @param {ChannelOpts} options 其它参数\r\n   */\r\n  constructor (target, options = {}) {\r\n    super(target, options)\r\n    this.appCode = options.appCode\r\n    this.localStorageName = options.localStorageName || 'globalConfig'\r\n    this._configResponse(this)\r\n    this._stateResponse(this)\r\n  }\r\n\r\n  /**\r\n   * !应用注册的主要逻辑\r\n   * @description 设置当前应用的AppCode\r\n   * @param {string} val\r\n   * @returns {void}\r\n   */\r\n  setAppCode (val) {\r\n    this.appCode = val\r\n    // todo 当前应用不是子应用，则向主应用注册\r\n    this.__pageHideCancel?.()\r\n    this.__maintainCancel?.()\r\n    // todo 自动向父级注册\r\n    if (window.parent !== window) {\r\n      window.parent.postMessage('message', '*')\r\n      this.send(window.parent, {\r\n        target: 'parent',\r\n        type: 'register'\r\n      }) //todo 自动拉取全局应用配置\r\n        .then(res => {\r\n          return this.send(window.parent, {\r\n            target: 'main',\r\n            type: 'config'\r\n          })\r\n        }) //todo 本地持久化\r\n        .then(res => {\r\n          localStorage.setItem(this.localStorageName, JSON.stringify(res.data))\r\n        })\r\n    }\r\n    // todo 维护子应用注册表\r\n    this.__maintainCancel = this.on(res => {\r\n      const microAppCode = res.sourceCode\r\n      if (res.type === 'register') {\r\n        //todo 注册\r\n        const el = document.getElementById('gislife-' + microAppCode)\r\n        if (el) {\r\n          this.registerApp(microAppCode, el)\r\n        } else {\r\n          console.error('register error, can not find element')\r\n        }\r\n      }\r\n    })\r\n    // todo 消息派发的主要逻辑\r\n    this.__cancelPassive = this._onPassive()\r\n  }\r\n\r\n  /**\r\n   * !消息派发的主要逻辑\r\n   * todo 如果消息没有target 默认target为 main\r\n   * @description 为每条消息带上popSource\r\n   * @param {IPostMessageSyntax<T>} msg\r\n   * @param {?Window} target\r\n   * @returns {Promise<IPostMessageSyntax<T>>}\r\n   */\r\n  send (target, msg) {\r\n    msg.sourceCode =\r\n      msg.sourceCode === undefined ? this.appCode : msg.sourceCode\r\n    msg.pop = msg.pop === undefined ? true : msg.pop\r\n    //todo 如果target不存在于当前Map则向全局发送消息\r\n    if (!target) {\r\n      const parent = window.parent !== window ? [window.parent] : []\r\n      const sibling = []\r\n      microAppMap.forEach((value, key) => {\r\n        sibling.push(value.contentWindow)\r\n      })\r\n      return Promise.all(\r\n        parent.concat(sibling).map(tar => super.send(tar, msg))\r\n      )\r\n    } else {\r\n      // todo如果target是'main'则直接向上传递消息；\r\n      return super.send(target, msg)\r\n    }\r\n  }\r\n  /**\r\n   * todo 响应自己的消息，如果不是自己的消息则传递消息\r\n   * @description 监听消息，并在自动取消监听\r\n   * @param {IGenericFunction<IPostMessageSyntax<*>,void>} cb 监听到消息的回调函数\r\n   * @param { Vue.Component } context 组件上下文\r\n   * @returns {cancelCallback} 取消监听的回调函数\r\n   */\r\n  on (cb) {\r\n    return super.on(msg => {\r\n      // todo 如果消息的目标是当前目标或者为'parent'，则直接响应消息\r\n      if (\r\n        msg.target === this.appCode ||\r\n        msg.target === 'parent' ||\r\n        msg.target === 'global'\r\n      ) {\r\n        cb(msg)\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description 注册子应用\r\n   * @param {string} appCode 子应用Code\r\n   * @param {HTMLIFrameElement} target 子应用Iframe元素\r\n   */\r\n  registerApp (appCode, target) {\r\n    if (microAppMap.has(appCode)) return\r\n    console.log('registerApp---------------', appCode, microAppMap)\r\n    microAppMap.set(appCode, target)\r\n    microAppElMap.set(target, appCode)\r\n  }\r\n  /**\r\n   * @description 取消注册子应用\r\n   * @param {string} appCode 子应用Code\r\n   */\r\n  unRegisterApp (appCode) {\r\n    console.log('unRegisterApp---------------', appCode, microAppMap)\r\n    return microAppMap.delete(appCode)\r\n  }\r\n  /**\r\n   * @typedef {[string,HTMLIFrameElement] } targetLike\r\n   * @param {targetLike | undefined} target\r\n   */\r\n  getApp (target) {\r\n    let res\r\n    if (target instanceof HTMLIFrameElement) {\r\n      const tarCode = microAppElMap.get(target)\r\n      if (tarCode) res = [tarCode, tar]\r\n    }\r\n    if (typeof target === 'string') {\r\n      const tar = microAppMap.get(target)\r\n      if (tar) res = [target, tar]\r\n    }\r\n    console.log('getApp---------------------', target, res, microAppMap)\r\n    if (!res) console.warn('getApp error,target named:', target, microAppMap)\r\n    return res\r\n  }\r\n  /**\r\n   * @description 销毁实例，取消事件监听\r\n   */\r\n  destory () {\r\n    this.__maintainCancel()\r\n    this.__pageHideCancel()\r\n    super.destory()\r\n  }\r\n\r\n  /**\r\n   * @param {microAppCode} microAppCode\r\n   * @returns {object | undefined}\r\n   */\r\n  getState (microAppCode) {\r\n    let res\r\n    res = stateMap.get(microAppCode)\r\n    return res\r\n  }\r\n  /**\r\n   *\r\n   * @param {microAppCode} microAppCode\r\n   * @param {object} state\r\n   * @returns {IStateMap}\r\n   */\r\n  setState (microAppCode, state) {\r\n    return stateMap.set(microAppCode, state)\r\n  }\r\n  /**\r\n   * @description\r\n   * @param {Channel} context\r\n   */\r\n  _configResponse (context) {\r\n    context.defaultResponseInterceptor.push(data => {\r\n      if (data?.data?.type === 'config') {\r\n        //todo 传递config\r\n        const config = JSON.parse(localStorage.getItem(this.localStorageName))\r\n        data.data.data = window[DEFAULT_GLOBAL_CONFIG] || config\r\n      }\r\n      return data\r\n    })\r\n  }\r\n\r\n  _onPassive () {\r\n    return super.on(msg => {\r\n      // todo 传递消息\r\n      if (\r\n        msg.target !== 'parent' &&\r\n        msg.target !== this.appCode &&\r\n        msg.type !== 'state'\r\n      ) {\r\n        if (this.appCode === 'main') msg.pop = false\r\n        // todo 如果是main,则向上传递；如果不是，则全局传递\r\n        if (msg.target === 'main') {\r\n          if (window.parent !== window) this.send(window.parent, msg)\r\n        } else {\r\n          // todo 如果不是，则需要向sibling和parent同时传递\r\n          microAppMap.forEach((tar, tarCode) => {\r\n            if (tarCode !== msg.sourceCode) {\r\n              this.send(tar.contentWindow, msg)\r\n            }\r\n          })\r\n          if (window.parent !== window && msg.pop === true) {\r\n            this.send(window.parent, msg)\r\n          }\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description 响应onStaet第一次请求数据\r\n   * @param {Channel} context\r\n   */\r\n  _stateResponse (context) {\r\n    return context.defaultResponseInterceptor.use(msg => {\r\n      if (msg.data.type === 'state') {\r\n        msg.data.data = stateMap.get(msg.data.sourceCode)\r\n      }\r\n      return msg\r\n    })\r\n  }\r\n}\r\n","import { Channel } from './core/Channel'\r\nimport { SUPPORT_MESSAGE_TYPE } from './core/Channel.default'\r\n\r\n/**\r\n * @class ApplicationChannel\r\n */\r\nexport class ApplicationChannel extends Channel {\r\n  /**\r\n   * @description 新建一个目标连接频道\r\n   * @constructor\r\n   * @param { window | windowContent} target 目标上下文\r\n   * @param {ChannelOpts} options 其它参数\r\n   */\r\n  constructor (target, options) {\r\n    super(target, options)\r\n  }\r\n  /**\r\n   * @description 处理多条件参数\r\n   * @param {IPostMessageSyntax<T> & {target:HTMLIFrameElement}} msg\r\n   * @returns {Promise<IPostMessageSyntax<T>>}\r\n   */\r\n  $send (msg) {\r\n    let target\r\n    if (!msg.target || !msg.type) throw Error('message syntax error')\r\n    const msgTarget = msg.target\r\n    //todo main parent发送\r\n    if (\r\n      (msgTarget === 'main' || msgTarget === 'parent') &&\r\n      window.parent !== window\r\n    ) {\r\n      target = window.parent\r\n      return super.send(target, msg)\r\n    }\r\n    // todo如果target是HTMLIFrameElement\r\n    // todo直接发送消息，且将target自动替换为对应的appCode\r\n    const targetLike = this.getApp(msgTarget)\r\n    if (msgTarget instanceof HTMLIFrameElement && targetLike) {\r\n      msg.target = targetLike[0]\r\n      target = msgTarget.contentWindow\r\n    }\r\n    //todo 如果target是appCode则在map中找到对的HTMLIFrameElement\r\n    if (typeof msgTarget === 'string' && targetLike) {\r\n      /**@type HTMLIFrameElement */\r\n      const tar = targetLike[1]\r\n      target = tar.contentWindow\r\n    }\r\n    if (!target) console.warn('current layer target not exist', msg)\r\n    return super.send(target, msg)\r\n  }\r\n  /**\r\n   * @param {Vue.Component} context\r\n   * @param {PostMessageType | IGenericFunction<IPostMessageSyntax<IUserData>,any>} type\r\n   * @param {IGenericFunction<IPostMessageSyntax<IUserData>,any> | IGenericFunction<IUserData,any>} cb\r\n   */\r\n  $on (context, type, cb) {\r\n    let onCancel\r\n    if (!(typeof type === 'string' || typeof type === 'function')) {\r\n      throw Error('type parma type error')\r\n    }\r\n    if (context) {\r\n      context.$on('hook:beforeDestory', () => {\r\n        onCancel?.()\r\n      })\r\n    }\r\n    if (typeof type === 'function') {\r\n      onCancel = super.on(msg => {\r\n        type(msg)\r\n      })\r\n      return onCancel\r\n    }\r\n    onCancel = super.on(msg => {\r\n      if (msg.type === type) {\r\n        cb(msg.data)\r\n      }\r\n    })\r\n    return onCancel\r\n  }\r\n\r\n  /**\r\n   * @description 发送回调消息\r\n   * @param { string } target 目标应用CODE\r\n   * @param { function } cb 回调函数\r\n   * @param { object | null} params 回调函数参数\r\n   * @returns { promise }\r\n   */\r\n  sendCallback (target, cb, params) {\r\n    if (typeof cb !== 'function' || params === undefined) {\r\n      throw Error('callback or params type error')\r\n    }\r\n    if (!target) {\r\n      throw Error('missing target')\r\n    }\r\n    return this.$send({\r\n      type: 'callback',\r\n      target: target,\r\n      data: {\r\n        callback: cb.toString(),\r\n        params: params\r\n      }\r\n    })\r\n  }\r\n  /**\r\n   * @description 接收消息\r\n   * @param {IGenericFunction<Function,any>} cb 接收消息的回调函数\r\n   * @param { Vue.Component } context 组件上下文\r\n   * @returns {cancelCallback} 取消回调的函数\r\n   */\r\n  onCallback (context, cb) {\r\n    return this.$on(context, msg => {\r\n      if (msg.type === 'callback') {\r\n        const data = msg.data\r\n        if (data.params !== null) {\r\n          const paramsName = Object.keys(data.params)\r\n          const paramsValue = Object.values(data.params)\r\n          const func = Function(\r\n            ...paramsName,\r\n            `(${data.callback})(${paramsName.join(',')})`\r\n          )\r\n          cb(function (ctx) {\r\n            func.apply(ctx, paramsValue)\r\n          })\r\n        } else {\r\n          const func = Function(`(${data.callback})()`)\r\n          cb(function (ctx) {\r\n            func.apply(ctx)\r\n          })\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * @description 获取远程全局配置\r\n   * @returns {Promise<object>}\r\n   */\r\n  getConfig () {\r\n    const cfg = localStorage.getItem(this.localStorageName)\r\n    if (cfg) {\r\n      const config = JSON.parse(cfg)\r\n      return Promise.resolve(config)\r\n    } else {\r\n      return this.$send({\r\n        type: 'config',\r\n        target: 'main'\r\n      })\r\n    }\r\n  }\r\n  /**\r\n   * @description 发送配置，只能以code方式发送，为了避免子应用未注册造成的消息丢失\r\n   * @param {string} microAppCode\r\n   * @param {object} state\r\n   */\r\n  sendState (microAppCode, state) {\r\n    this.setState(microAppCode, state)\r\n    return this.$send({\r\n      type: 'state',\r\n      target: microAppCode,\r\n      data: state\r\n    })\r\n  }\r\n  /**\r\n   * @description 接收消息 T为消息的具体格式\r\n   * @template T\r\n   * @param {IGenericFunction<T,any>} cb 接收消息的回调函数\r\n   * @param { Vue.Component } context 组件上下文\r\n   * @returns {cancelCallback} 取消回调的函数\r\n   */\r\n  onState (cb, context) {\r\n    this.$send({\r\n      target: 'parent',\r\n      type: 'state'\r\n    }).then(res => cb(res.data))\r\n    return this.$on(context, msg => {\r\n      if (msg.type === 'state') {\r\n        const data = msg.data\r\n        cb(data)\r\n      }\r\n    })\r\n  }\r\n}\r\n","var render = function render() {\n  var _vm = this,\n    _c = _vm._self._c\n  return _c(\"iframe\", {\n    ref: \"window\",\n    staticClass: \"gislife-micro-app\",\n    class: _vm.classNmae,\n    attrs: { title: _vm.id, src: _vm.buildSrc(_vm.src), id: _vm.id },\n  })\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=template&id=0179a1d4&\"","<template>\r\n\t<iframe\r\n\t\t:title=\"id\"\r\n\t\t:src=\"buildSrc(src)\"\r\n\t\t:id=\"id\"\r\n\t\tclass=\"gislife-micro-app\"\r\n\t\t:class=\"classNmae\"\r\n\t\tref=\"window\"\r\n\t>\r\n\t</iframe>\r\n</template>\r\n\r\n<script>\r\nimport { requestDom } from './util'\r\n\r\nexport default {\r\n\tname: \"microApp\",\r\n\tinheritAttrs: false,\r\n\tprops: {\r\n\t\tsrc: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true\r\n\t\t},\r\n\t\tmicroAppCode: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tstate: {\r\n\t\t\ttype: Object,\r\n\t\t},\r\n\t\tclassNmae: String\r\n\t},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tid: 'gislife-' + this.microAppCode,\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\tstate: {\r\n\t\t\tdeep: true,\r\n\t\t\timmediate: true,\r\n\t\t\tasync handler (val) {\r\n\t\t\t\tawait requestDom(this.id,(el) => el && el.contentWindow)\r\n\t\t\t\t/**@type ConnectChannel */\r\n\t\t\t\tconst connector = this.$connector;\r\n\t\t\t\tconnector.sendState(this.microAppCode,val)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tbeforeDestroy () {\r\n\t\tthis.$connector.unRegisterApp(this.microAppCode)\r\n\t},\r\n\tmethods: {\r\n\t\tbuildSrc (src) {\r\n\t\t\tconst hasParam = src.includes('?');\r\n\t\t\treturn src + (hasParam ? '&' : '?') + 'microAppCode=' + this.microAppCode\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.gislife-micro-app {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=script&lang=js&\"","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[1]!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=style&index=0&id=0179a1d4&lang=css&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[1]!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=style&index=0&id=0179a1d4&lang=css&\";\n       export default content && content.locals ? content.locals : undefined;\n","export * from \"-!../node_modules/style-loader/dist/cjs.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-2.use[1]!../node_modules/css-loader/dist/cjs.js!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-2.use[3]!../node_modules/vue-loader/lib/index.js??vue-loader-options!./microApp.vue?vue&type=style&index=0&id=0179a1d4&lang=css&\"","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","import { render, staticRenderFns } from \"./microApp.vue?vue&type=template&id=0179a1d4&\"\nimport script from \"./microApp.vue?vue&type=script&lang=js&\"\nexport * from \"./microApp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./microApp.vue?vue&type=style&index=0&id=0179a1d4&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Users\\\\Administrator\\\\Desktop\\\\message\\\\packages\\\\message\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0179a1d4')) {\n      api.createRecord('0179a1d4', component.options)\n    } else {\n      api.reload('0179a1d4', component.options)\n    }\n    module.hot.accept(\"./microApp.vue?vue&type=template&id=0179a1d4&\", function () {\n      api.rerender('0179a1d4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/microApp.vue\"\nexport default component.exports","/**\r\n * @author dengtao\r\n * @version 1.0.0\r\n */\r\nimport * as Utils from './util'\r\nimport { ApplicationChannel } from './ApplicationChannel'\r\nimport microAppVue from './microApp.vue'\r\n\r\n/**\r\n * @typedef ParamsType\r\n * @type {object}\r\n * @property {string} appCode\r\n * @property {string} microAppCode\r\n */\r\nconst connector = new ApplicationChannel()\r\nexport { Utils, connector }\r\nexport default {\r\n  install (vue) {\r\n    if (window.parent !== window) {\r\n      // TODO 获取子应用AppCode\r\n      /**@type ParamsType */\r\n      const params = Utils.getParams(window.location)\r\n      // ! 子应用\r\n      connector.setAppCode(params.microAppCode)\r\n    } else {\r\n      // ! 主应用\r\n      connector.setAppCode('main')\r\n    }\r\n    Object.defineProperty(vue.prototype, '$connector', {\r\n      get () {\r\n        return connector\r\n      },\r\n      set (v) {\r\n        throw Error(\"$connector can't set value\")\r\n      }\r\n    })\r\n    vue.component(microAppVue.name, microAppVue)\r\n  }\r\n}\r\n"],"names":["onPageHide","cb","console","log","window","addEventListener","removeEventListener","onLoad","onMessage","requestDom","id","judgeCb","arguments","length","undefined","el","Boolean","type","getDom","callback","document","requestAnimationFrame","getElementById","setTimeout","Error","resolver","Promise","resolve","ArrayVolume","_classCallCheck","queue","Array","_createClass","key","value","push","_this","priority","unshift","splice","findIndex","fn","ChainRunner","_ArrayVolume","_inherits","_super","_createSuper","call","_get","_getPrototypeOf","prototype","use","run","result","res","_iterator","_createForOfIteratorHelper","_step","s","n","done","err","e","f","getParams","location","search","slice","split","map","p","forEach","item","v4","uuidv4","cloneDeep","Message","targetWindow","options","appCode","targetOrigin","timeout","tag","namespace","defaultResponseInterceptor","requestInterceptor","_cancel","_initResponse","_e$data","data","response","source","postMessage","_objectSpread","origin","_postMessage","msg","target","_this2","isSendOK","resolvor","rejector","cancel","belong","reject","JSON","stringify","send","then","on","_this3","event","_typeof","_event$data","_event$data2","parse","destory","SUPPORT_MESSAGE_TYPE","DEFAULT_GLOBAL_CONFIG","microAppMap","Map","microAppElMap","WeakMap","stateMap","Channel","_Message","localStorageName","_configResponse","_assertThisInitialized","_stateResponse","setAppCode","val","_this$__pageHideCance","_this$__maintainCance","__pageHideCancel","__maintainCancel","parent","localStorage","setItem","microAppCode","sourceCode","registerApp","error","__cancelPassive","_onPassive","pop","sibling","contentWindow","all","concat","tar","_this4","has","set","unRegisterApp","getApp","HTMLIFrameElement","tarCode","get","warn","getState","setState","state","context","_this5","_data$data","config","getItem","_this6","ApplicationChannel","_Channel","$send","msgTarget","targetLike","$on","onCancel","_onCancel","sendCallback","params","toString","onCallback","paramsName","Object","keys","paramsValue","values","func","Function","apply","join","ctx","getConfig","cfg","sendState","onState","render","_vm","_c","_self","ref","staticClass","classNmae","attrs","title","src","buildSrc","staticRenderFns","_withStripped","_regeneratorRuntime","exports","Op","hasOwn","hasOwnProperty","defineProperty","obj","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","Context","makeInvokeMethod","tryCatch","arg","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","object","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","inheritAttrs","props","String","required","watch","deep","immediate","handler","_callee","connector","_callee$","_context","$connector","beforeDestroy","methods","hasParam","includes","Utils","microAppVue","install","vue","v","component"],"sourceRoot":""}